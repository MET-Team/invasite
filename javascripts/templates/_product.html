<div class="page-block page-block-product" ng-controller="ProductCtrl">
  <div class="main-card hidden">

    <div class="image-view">
      <div class="view-item" ng-repeat="item in viewItems" ng-class="{selected: $index == viewItemSelected}" ng-bind="item" ng-click="changeView($index)"></div>
    </div>

    <div class="card-container">
      <div class="card-col card-image">
        <div class="image-container">
          <img src="images/temp/product-main-image.jpg" alt="" />

          <div class="zoom-controls" ng-if="viewItemSelected == 1">
            <div class="control-item plus"></div>
            <div class="control-item minus"></div>
          </div>

          <div class="threed-hint" ng-if="hintEnabled">
            <div class="center">
              <img src="images/ico-3d-hint-1.png" alt="" width="66" height="66" />
              <div class="hint-text">
                Используйте кнопки
                для масштабирования
              </div>
              <img src="images/ico-3d-hint-2.png" alt="" width="58" height="60" />
              <div class="hint-text">
                Двигайте изображение
                в любом направлении
              </div>
              <button class="continue btn btn-default" ng-click="continueView()">Продолжить</button>
            </div>
          </div>
        </div>
      </div>
      <div class="card-col card-details">
        <div class="col-container">
          <div class="artikul">
            Артикул: <span ng-bind="product.artikul"></span>
          </div>
          <div class="name" ng-bind="product.name"></div>
          <div class="text">
            <div class="text-container">
              <div ng-bind="product.text"></div>
              <div class="more" ng-click="additionalTextShow = true" ng-show="product.additional_text.length > 0">Подробнее</div>
            </div>

            <div class="additional-text" ng-show="additionalTextShow">
              <div class="close" ng-click="additionalTextShow = false"></div>
              <div class="additional-text-container">
                <div class="title" ng-show="additionalTextItemVisible == 0">Подробно об Invacare Kite</div>
                <div class="item" ng-repeat="item in product.additional_text" ng-show="additionalTextItemVisible == $index">
                  <div class="text" ng-bind="item.text"></div>
                </div>
              </div>
              <div class="arrows">
                <div class="arrow prev" ng-click="prevItem()" ng-class="{disabled: prevArrowDisabled}"></div>
                <div class="arrow next" ng-click="nextItem()" ng-class="{disabled: nextArrowDisabled}"></div>
              </div>
            </div>

          </div>
          <div class="price"><span ng-bind="product.price"></span>.-</div>

          <div class="other">
            <div class="other-item refunds">
              <div class="btn btn-default" ng-click="refundPopupShow = true">Узнать больше о возврате денег</div>

              <div class="popup popup-more" ng-show="refundPopupShow">
                <div class="close" ng-click="refundPopupShow = false"></div>
                <div class="title">Возврат денег</div>
                <div class="text">
                  Kite создан для активных пользователей, любящих активное времяпрепровождение на улице, но нуждающихся также и в компактной инвалидной коляске для ежедневного пользования. <span class="more">Подробнее</span>
                </div>
              </div>

            </div>
          </div>

          <div class="buy-button">
            <a class="btn button blink-basket" ng-click="buyProduct()" href="javascript:void(0)">Добавить в корзину</a>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="main-card">

    <div class="breadcrumbs">
      <a ng-href="/catalog/{{carriageTypeIdToCaption[product.kind_id]}}"><span ng-bind="product.kind.name"></span> коляски</a>
      <span class="arrow"></span>
      <span ng-bind="product.name"></span>
    </div>

    <div class="main-card-inner">
      <div class="image-view">
        <div class="view-item" ng-class="{selected: viewItemSelected == 0}" ng-click="changeView(0)">360&deg;</div>
        <div class="view-item" ng-class="{selected: viewItemSelected == 1}" ng-click="changeView(1)">3D</div>
        <div class="view-item view-item-video" ng-class="{selected: viewItemSelected == 2}" ng-click="changeView(2)">Видео</div>
      </div>

      <div class="card-container">
        <div class="card-col card-image card-image-main">
          <div class="image-container">
            <img class="img img_main" src="images/temp/product-main-image.jpg" alt="" />
            <img class="img" ng-src="{{domain + product.photo.original}}" alt="{{product.name}}" ng-show="!spinObj.spinReady" />

            <div class="animation-container" ng-show="viewItemSelected == 0" ng-class="{'enable-rotation': product.rotation_images.length > 0}" sprite-spin="spinObj" spin-images="product.rotation_images" spin-ready="spinReady"></div>
            <div class="spin-ico" ng-show="viewItemSelected == 0 && spinObj.spinReady && product.rotation_images.length > 1">Прокрутить 360&deg;</div>
            <div class="spin-legend" ng-show="viewItemSelected == 0 && spinObj.spinReady && product.rotation_images.length > 1">Используйте мышь для прокрутки</div>

            <div class="threed-object-container">
              <div class="zoom-slider" ng-show="viewItemSelected == 1" ng-if="product.images.length > 0">
                <div class="zoom-control zoom-plus">
                  <div class="zoom-control-inner"></div>
                </div>
                <div id="slider-vertical"></div>
                <div class="zoom-control zoom-minus disabled">
                  <div class="zoom-control-inner"></div>
                </div>
              </div>

              <div class="threed-object" ng-if="viewItemSelected == 1 && product.images.length > 0" threed-rotation="" threed-config="threedConfig"></div>
            </div>

            <div class="threed-hint overlay" ng-if="hintEnabled && product.images.length > 0">
              <div class="center">
                <img src="/images/ico-3d-hint-2.png" alt="" width="58" height="60" />
                <div class="hint-text">
                  Двигайте изображение
                  в любом направлении
                </div>
                <img src="/images/ico-3d-hint-1.png" alt="" width="66" height="66" />
                <div class="hint-text">
                  Используйте кнопки
                  для масштабирования
                </div>
                <button class="continue btn btn-default" ng-click="continueView()">Продолжить</button>
              </div>
            </div>

            <div class="video-container" ng-show="viewItemSelected == 2">
              <iframe width="506" height="506" ng-src="{{videoPath}}"></iframe>
            </div>

          </div>
        </div>
        <div class="card-col card-details">
          <div class="button button-compare" ng-click="compareProduct(product)" ng-class="{disabled: characters.length == 0 || compareDisabled}">Добавить товар к сравнению</div>
          <div class="artikul">Артикул: <span ng-bind="product.art"></span></div>
          <div class="name" ng-bind="product.name"></div>
          <div class="text" ng-bind-html="product.description"></div>

          <div class="other">
            <div class="other-item delivery" ng-if="product.free_shipping">
              <div class="ico"></div>
              Бесплатная доставка в пределах МКАД
            </div>
            <div class="other-item refunds">
              <div class="ico"></div>
              Возврат денег
              <a href="/info?part=1" target="_blank" class="more">подробнее</a>
            </div>
          </div>

          <div class="buy-button">
            <div class="button" ng-click="buyProduct('main')">Купить за <span class="price"><span ng-bind="product.price"></span> <span class="rouble">⃏</span></span></div>
            <div class="button button-test-drive" ng-click="toggleOrderTestDriveForm()">Записаться на тест-драйв</div>
          </div>
          <div class="button button-credit" ng-click="creditBuy()">Можно купить в кредит</div>
        </div>
      </div>
    </div>
  </div>

  <div class="gallery">
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-1.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-2.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-3.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-4.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-5.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-6.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-7.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="gallery-item" style="background: url('images/temp/product-gallery/product-gallery-8.png') no-repeat 50% 50% transparent; background-size: cover;">
      <div class="overlay"></div>
      <div class="caption">Регулируемый латеральный фиксатор</div>
    </div>
    <div class="load-more">
      <span>Загрузить еще</span>
    </div>
  </div>

  <div class="technical-characteristics">
    <div class="inner">
      <div class="characters-grid col" ng-if="product.technical_characteristics">
        <div class="title">Технические характеристики</div>
        <table>
          <tr ng-repeat="item in product.technical_characteristics" ng-class="{hidden: $index > 5, visible: showHiddenCharacters}">
            <td class="caption" ng-bind="item.name"></td>
            <td class="value" ng-bind="item.value"></td>
          </tr>
        </table>
        <div class="load-more btn btn-default" ng-click="toggleMoreCharacters()">
          <span ng-show="!showHiddenCharacters">Загрузить еще</span>
          <span ng-show="showHiddenCharacters">Скрыть</span>
        </div>
      </div>
      <div class="options col mini-card">
        <div class="product-item">
          <div class="image">
            <img src="images/temp/product-image.jpg" alt="" />
          </div>
          <div class="product-details">
            <div class="artikul">
              Арт: <span ng-bind="product.artikul"></span>
            </div>
            <div class="stock-type" ng-class="{'in-stock': product.in_stock}">
              <div class="stock-indicator"></div>
              <span ng-if="product.in_stock">В наличии</span>
              <span ng-if="!product.in_stock">Нет в наличии</span>
            </div>
          </div>
          <div class="name" ng-bind="product.name"></div>
          <div class="product-compare">+ Добавить к сравнению</div>

          <div class="product-footer">
            <div class="buy">
              <a ng-href="#!/catalog/1" class="btn-buy">Купить</a>
            </div>
            <div class="price"><span ng-bind="product.price"></span>.-</div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>